
---

## âœ… 2. `.github/workflows/test-download-package-and-contributor-package.yml`

```yaml
name: Test download-package-and-contributor-package

on:
  pull_request:
    paths:
      - 'paassql-pipelines/download-package-and-contributor-package/**'

jobs:
  test-action:
    name: Run Action on Windows
    runs-on: windows-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Set up test directories
        run: |
          New-Item -ItemType Directory -Path ./tmp/download -Force | Out-Null
          New-Item -ItemType Directory -Path ./tmp/extract -Force | Out-Null
        shell: powershell

      - name: Create dummy NuGet package
        run: |
          echo "test-content" > ./tmp/download/dummy.txt
          Compress-Archive -Path ./tmp/download/dummy.txt -DestinationPath ./tmp/download/test-package.nupkg
        shell: powershell

      - name: Run action with mocked download
        uses: ./paassql-pipelines/download-package-and-contributor-package
        with:
          nuget-pkg-download-path: './tmp/download'
          nuget-pkg-extract-path: './tmp/extract'
          package-name: 'test-package.nupkg'
          webrequest-uri: 'file://'

      - name: Verify extracted files
        run: |
          Write-Host "Contents of extraction directory:"
          Get-ChildItem -Recurse ./tmp/extract
        shell: powershell
