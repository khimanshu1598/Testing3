 # Define paths and variables
$SqlPackagePath = "C:\Program Files (x86)\Microsoft SQL Server\140\DAC\bin\SqlPackage.exe"
$PublishProfile = "C:\temp\ExtractedPackage\abc-uat.publish.xml"
$DacpacPath = "C:\temp\ExtractedPackage\Employee.Invitation.Database.Build.dacpac"
$DbVersion = "494"
$ContributorArgs = "CreateIndexOperationalPropsModifier.Online=ON;CreateIndexOperationalPropsModifier.MAXDOP=2"
$TargetConnectionString = "Server=GSQN-ABCDE.uat.aws.abc.com;Database=EmployeeInvitation;User=HimanshuSuccessUser;Password=abcdewrede;Encrypt=True;TrustServerCertificate=True;multisubnetfailover=true"
# Build the argument string
$arguments = @"
/Action:Publish /Profile:""$PublishProfile"" /Variables:DBversion='$DbVersion' /p:AdditionalDeploymentContributorArguments='$ContributorArgs' /SourceFile:""$DacpacPath"" /TargetConnectionString:""$TargetConnectionString""
"@
# Execute SqlPackage.exe with arguments
Start-Process -FilePath $SqlPackagePath -ArgumentList $arguments -NoNewWindow -Wait 
